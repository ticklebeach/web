<script defer="defer">(()=>{var e={825:(e,t)=>{let o=[[10001,10011,10021],[10031,10041,10051],[10061,10071,10081],[10091,10101,10111],[10121,10131,10141],[10151,10161,10171],[10181,10191,10201],[10211,10221,10231],[10241,10251,10261],[10271,10281,10291],[10301,10311,10321],[10331,10341,10351],[10391,10401,10411]],n=[[[.6,.805,1],[.6,.805,1]],[[.828,.848,.942],[.828,.848,.942]],[[.614,.926,.998],[.614,.926,.998]],[[.961,.914,.976],[.961,.914,.976]]];const r=["body","floor","glasses","shirt","ground","hand","headtop","neck","shoes"],a=["floor","glasses","ground","hand","headtop","neck","shirt","shoes"],s=["hand","glasses","ground","headtop","shirt","neck"];t.rl=r,t.Po=o,t.Ys=n,t.gn=e=>{let t={};for(let o of r)t[o]=e[o].filter((e=>!!e)).map((e=>e.the.index)).sort(((e,t)=>e-t));return t},t.u9=(e,t)=>{const i=[],c=e+e+e+e+e;for(let e=0;e<c.length;e+=7){const t=c.substr(e,7);i.push(parseInt(t,16))}const u={},l={},d={};for(let e of r){const o=i.pop(),n=t[e],r=o%n.length;u[e]=n[r],l[e]=n[r]}const f=i.pop()%o.length;for(let e of r){if(-1!==a.indexOf(e)){const t=i.pop()%10*10+i.pop()%10;if(t<80)if(t<50)u[`theme:${e}`]=f,d[e]=f;else{const t=i.pop()%o.length;u[`theme:${e}`]=t,d[e]=t}}if(-1!==s.indexOf(e)){i.pop()%10*10+i.pop()%10<15&&(delete u[e],delete u[`theme:${e}`],delete l[e],delete d[e])}}const m=i.pop()%n.length;u.sky=m;for(const e in u);return{allSel:u,sel:l,themeFor:d,sky:m}},t.Mm=e=>{const t=[];for(const o in e)if(-1!==o.indexOf("theme:"))t.push(`${o}:${e[o]}`);else if("sky"===o)t.push(`${o}:${e[o]}`);else{const n=e[o];t.push(`${o}:the:${n}`)}return t.join("-")}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}(()=>{"use strict";function e(e,t,o,n){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,o,n,0,e.RGBA,e.FLOAT,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r}function t(e,t,o,n){const r=n?Math.ceil(n/2048):2048;e.bindTexture(e.TEXTURE_2D,o),e.texSubImage2D(e.TEXTURE_2D,0,0,0,2048,r,e.RGBA,e.FLOAT,t),e.bindTexture(e.TEXTURE_2D,null)}function n(e,t,o,n,r){const a=r?Math.ceil(r/2048):2048;e.bindBuffer(e.PIXEL_UNPACK_BUFFER,t),e.bindTexture(e.TEXTURE_2D,o),e.texSubImage2D(e.TEXTURE_2D,0,0,0,2048,a,e.RGBA,e.FLOAT,n),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.PIXEL_UNPACK_BUFFER,null)}function r(e,t){e.getShaderParameter(t,e.COMPILE_STATUS)}function a(e,t,o,n){const a=e.createProgram(),s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,t),e.compileShader(s),r(e,s),e.attachShader(a,s);const i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,o),e.compileShader(i),r(e,i),e.attachShader(a,i),n&&n(a),e.linkProgram(a),function(e,t){if(!e.getProgramParameter(t,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(t))}(e,a),a}function s(e,t,o){o.forEach((([o,n,r])=>{e[`uniform${n}`](e.getUniformLocation(t,o),r)}))}function i(e,t,o){const n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW),o&&e.bufferSubData(e.ARRAY_BUFFER,0,Float32Array.from(o)),n}function c(e,t,o,n=0,r=0){return e.bindBuffer(e.ARRAY_BUFFER,t),e.getBufferSubData(e.ARRAY_BUFFER,n,o,0,r),e.bindBuffer(e.ARRAY_BUFFER,null),o}async function u(e){return new Promise((function(t){var o=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),setTimeout((function n(){e.getSyncParameter(o,e.SYNC_STATUS)==e.SIGNALED?(e.deleteSync(o),t()):setTimeout(n,0)}),0)}))}let l={},d=-1,f={},m=-1,h=0,p=0,v=null;function T(){if(-1===d){if(f){const e=(Date.now()-h)/1e3/p,t=Math.min(e,1),o=E(l,f,t);return e>=1&&(l=f,f=null),o}return l}if(m>-1){const e=(Date.now()-h)/1e3/p,t=Math.min(e,1),o=E(A(d),A(m),t);return e>=1&&(d=m,m=-1),o}return A(d)}function E(e,t,o){return{pos:add(e.pos,mul(sub(t.pos,e.pos),o)),lookAt:add(e.lookAt,mul(sub(t.lookAt,e.lookAt),o)),zoom:e.zoom+(t.zoom-e.zoom)*o}}function A(e){const t=function(e){const t=Date.now()/1e3;if(0===e){const e=Math.sin(t),o=Math.cos(t)/2;return{pos:vec(Math.sin(e)+Math.cos(o),Math.sin(o)/2+.2,-Math.cos(e)),lookAt:vec(0,0,0),zoom:.5+(Math.sin(t+.5)+1)/4}}if(1===e){const e=t/1.4;return{pos:vec(Math.sin(e),.3,-Math.cos(e)),lookAt:vec(-.05,1.5,-.4),zoom:1}}if(2===e){const e=-1;return{pos:vec(Math.sin(e),.3,-Math.cos(e)),lookAt:vec(-.05,1.5,-.4),zoom:1}}if(3===e)return{pos:vec(0,.2,-1),lookAt:vec(-.05,1.5,-.4),zoom:1.3};if(4===e)return{pos:vec(0,.25,-2),lookAt:vec(-.05,1.5,-.4),zoom:6};if(5===e)return{pos:vec(0,.25,-2),lookAt:vec(-.05,2,-.4),zoom:9};if(6===e){const e=-1.6;return{pos:vec(Math.sin(e),.2,-Math.cos(e)),lookAt:vec(0,.5,0),zoom:2}}if(7===e){const e=t/1.2;return{pos:vec(Math.sin(e),.2,-Math.cos(e)),lookAt:vec(-.05,2,-.4),zoom:2}}if(8===e)return{pos:vec(-1.2,.35,-1.75),lookAt:vec(-.05,2,-.4),zoom:8};if(9===e)return{pos:vec(-1.2,.35,-1.75),lookAt:vec(-.05,1.25,-.4),zoom:7};if(10===e)return{pos:vec(-1,.25,-.2),lookAt:vec(0,1.7,-.2),zoom:4.5};if(11===e){const e=t/6,o=Math.sin(e)/2;return{pos:vec(o,.25,-2),lookAt:vec(-.05,1.5,-.4),zoom:6}}return 13===e?{pos:vec(window.locX,.2,-1),lookAt:vec(-.05,1.5,-.4),zoom:1.3}:{...v,zoom:5,skipScale:!0}}(e);return t.skipScale?(t.zoom*=3,t):{pos:mul(t.pos,20),lookAt:t.lookAt,zoom:3*t.zoom}}window.locX=0,window.locY=.25,window.locZ=-2;let R=window;const g={el:null,reversed:!1},x={pos:vec(0,10,0),lookAt:vec(0,1.5,0),zoom:6};let b=null,B=null;const w={radius:1,phi:0,theta:0},k={radius:40,phi:Math.PI/2,theta:-Math.PI/2},F={radius:1,phi:0,theta:0},_=2*Math.PI/3,D=.25;let S=vec(0,0,0),M=vec(0,0,0);let y=vec(0,2,-.5);const U=.85/10;function C(e,t,o){return Math.max(t,Math.min(o,e))}function P(e,t){const o=vec(e,t,0),n=mul(sub(o,B),.5);let r=g.el===document?document.body:g.el;w.theta-=(g.reversed?-1:1)*(2*Math.PI*n.x)/r.clientHeight,w.phi-=2*Math.PI*n.y/r.clientHeight,B=o}function I(e){if(0===e.button)B=vec(e.clientX,e.clientY,0),b=0;null!==b&&(R.addEventListener("mousemove",z,!1),R.addEventListener("mouseup",$,!1))}function X(e){if(e.touches.length>0){const t=e.touches[0];B=vec(t.screenX,t.screenY,0),b=0}null!==b&&(R.addEventListener("touchmove",L,!1),R.addEventListener("touchup",G,!1))}function z(e){0===b&&P(e.clientX,e.clientY)}function L(e){if(e.touches.length>0){const t=e.touches[0];P(t.screenX,t.screenY)}e.preventDefault(),e.stopPropagation()}function N(e){w.radius/=e}function O(){return Math.pow(.95,1)}function Y(e){e.stopPropagation(),e.preventDefault(),e.deltaY<0?N(1/O()):e.deltaY>0&&N(O())}function $(){R.removeEventListener("mousemove",z,!1),R.removeEventListener("mouseup",$,!1),b=null}function G(){R.removeEventListener("touchmove",L,!1),R.removeEventListener("touchup",G,!1),b=null}let K=window;function V(t,o,r,i,c,u,l,f,E,A,R,b,B){const P=o;let z=K.shaders.raymarcherFragment,N=0;const O=t;let $,V,H=[0,0,0,0],Z=[0,0,-99,0],W=0,j=new Date/1e3,q=0,J=0;var Q;Q=function(e=!1){const t=document;return g.el=t,g.reversed=e,t.addEventListener("mousedown",I,!1),t.addEventListener("wheel",Y,{passive:!1}),t.addEventListener("touchstart",X),t.addEventListener("touchend",G),t.addEventListener("touchcancel",G),t.addEventListener("touchmove",L,{passive:!1}),x}(),v=Q,d=E,m=-1;let ee=!0;const te=()=>{function d(){let e=K.innerHeight,t=K.innerWidth;o.width=t*r,o.height=e*r,o.style.width=`${t}px`,o.style.height=`${e}px`}V=()=>{$=a(t,"#version 300 es\nin vec2 position;\nout vec2 fragCoord;\nvoid main(){\n  gl_Position=vec4(position,0,1);\n  fragCoord=position;\n}",z),t.useProgram($);const{outNodes:o,resultBuffer:r,normalBuffer:d}=c;let m=e(t,o,2048,2048),h=e(t,null,2048,2048);n(t,r,h,0);let p=e(t,null,2048,2048);n(t,d,p,0);let v=e(t,u,1024,16);t.deleteBuffer(r),t.deleteBuffer(d);const E=T();s(t,$,[["uColors","3fv",R.flat()],["uMaterials","4fv",i.mats.map((e=>[e.roughness,e.metalness,0,0])).flat()],["uBoundsMin","3fv",vecToArray(l)],["uBoundsMax","3fv",vecToArray(f)],["iTreeTex","1i",0],["iStrokesTex","1i",1],["uResultTex","1i",2],["uNormalTex","1i",3],["uCameraPos","3fv",vecToArray(E.pos)],["uCameraLookAt","3fv",vecToArray(E.lookAt)],["uCameraZoom","1f",E.zoom],["uBackgroundColor1","3fv",b],["uBackgroundColor2","3fv",B]]),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,m),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,v),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,h),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,p),function(e){e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,5120,0,0,0),e.bufferData(e.ARRAY_BUFFER,new Int8Array([-3,1,1,-3,1,1]),35044)}(t),O.clearColor(1,0,0,1),O.clear(O.COLOR_BUFFER_BIT)},oninput=V,V(),K.resize=d,K.addEventListener("resize",d,!1),d();const m=()=>{q=new Date/1e3-j,j=new Date/1e3,function(){k.radius*=w.radius,k.theta+=w.theta,k.phi+=w.phi,k.theta=C(k.theta,-1/0,1/0),k.phi=C(k.phi,.1,_),k.radius=C(k.radius,20,60),F.phi+=(k.phi-F.phi)*D,F.theta+=(k.theta-F.theta)*D,F.radius+=(k.radius-F.radius)*D,y=add(y,S);let e=F.radius*Math.sin(Math.max(1e-6,F.phi));M.x=e*Math.cos(F.theta),M.y=F.radius*Math.cos(F.phi),M.z=e*Math.sin(F.theta),x.pos=add(y,M),x.lookAt=vec(...vecToArray(y)),w.theta*=U,w.phi*=U,S=mul(S,U),w.radius=1}();const e=T();s(t,$,[["iTimeDelta","1f",q],["iTime","1f",W+=q],["iFrame","1i",N++],["iDate","1f",~~j],["iMouse","4fv",H],["iResolution","2fv",[t.drawingBufferWidth,t.drawingBufferHeight]],["iLastClick","4fv",Z],["uCameraPos","3fv",vecToArray(e.pos)],["uCameraLookAt","3fv",vecToArray(e.lookAt)],["uCameraZoom","1f",e.zoom]]),function(e){e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.drawArrays(6,0,3)}(t),A(t),ee&&requestAnimationFrame(m)};function h(e,t){var o=e.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}m(),onmousedown=onmouseup=()=>{J^=1},P.onmousemove=function(e){if(J){const t=h(P,e);H[0]=t.x,H[1]=t.y}},P.onclick=function(e){const t=h(P,e);H[2]=t.x,H[3]=t.y,Z[0]=t.x,Z[1]=t.y,Z[2]=W}};return onload=function(){te()},{main:te,setCamera:function(e){!function(e,t){m=e,h=Date.now(),p=t}(e,.5)},stop:()=>{ee=!1}}}var H=o(825);let Z=window;async function W(o,n,r,l,d,f){setupRepoModels();const m=Z.repo,h=f>4,{strokes:p}=buildRepo(o,!1,h),v={};for(let e of H.rl)v[e]={};for(let e of p[0].part)for(let t=0;t<e.strokes.length;t++){const o=e.strokes[t];"attach"!==o.primitive&&"sub"!==o.mode&&(void 0===v[o.partName][o.material]&&(v[o.partName][o.material]=0),v[o.partName][o.material]+=1)}const T={};for(let e of H.rl)T[e]=Object.entries(v[e]),T[e]=T[e].sort(((e,t)=>t[1]-e[1])),T[e]=T[e].map((([e,t])=>[parseInt(e,10),t]));const E={},A={};let R=0;o.split("-").map((e=>{const t=e.split(":");-1!==e.indexOf("theme")?A[t[1]]=parseInt(t[2]):-1!==e.indexOf("sky")?R=parseInt(t[1]):E[t[0]]=parseInt(t[2])}));const g=H.Ys[R][1],x=H.Ys[R][0],b=p[0].part.map((e=>{const t=e.strokes[0].partName;let o=T[t].map((([e])=>e));const n=o.length;let r=!1,a=[];if("ground"===t)2===E.ground?(a=[3,1,2],r=!0):6===E.ground?(a=[1,2,3],r=!0):7===E.ground?(a=[0,1,3],r=!0):9===E.ground?(a=[3,4,5],r=!0):10===E.ground||12===E.ground?(a=[1,2,3],r=!0):15===E.ground&&(a=[0,1,3],r=!0);else if("hand"===t)switch(E.hand){case 1:a=[3,1,2],r=!0;break;case 4:case 5:a=[0,1],r=!0;break;case 8:a=[4,5],r=!0}else if("floor"===t&&1===E.floor)a=[1,3],r=!0;return r&&(o=a.map((e=>T[t][e][0]))),e.strokes=e.strokes.map((e=>{const a=A[t];if(void 0===a)return e;const s=H.Po[a]||[];return(n<=s.length||r)&&(o[0]==e.material?e.material=s[0]:o[1]==e.material?e.material=s[1]:o[2]==e.material&&(e.material=s[2])),e})),e})),B=[];b.forEach((e=>{e.strokes.map((e=>{B.push(e.material)}))}));const w=[...new Set(B)].sort(((e,t)=>e-t)),k={};let F=0;for(let e of w)k[e]=F,F++;const _=m.hardcoded,D=m.randomized[0],S=[];for(let e=0;e<w.length;e++){const t=w[e];if(t<1e4){const e=_[(t-1)/10];S.push(e)}else{const e=D[(t-1e4-1)/10];S.push(e)}}S[0]=_[0];const M=b.map((e=>(e.strokes=e.strokes.map((e=>(e.material=10*k[e.material.toString()]+1,e))),e))),y=strokesToData(M),U=document.createElement("canvas");document.body.appendChild(U);const C=U.getContext("webgl2",{antialias:!1,depth:!1,scissor:!1}),P=await async function(o,n,r,l,d,f,m=!1){const h=window.shaders.octreeVertex;await u(o);const p=sub(l,r),v=add(r,div(p,2)),T=f.outNodes||new Float32Array(2e7);T[0]=1,T[1]=99,T[2]=99,T[3]=99;const E=f.inNodes||new Float32Array(2e7);E[0]=v.x,E[1]=v.y,E[2]=v.z,E[3]=-1;let A=1,R=A+8,g=0,x=1;const b=5e6;let B=f.nodeIndexBuffer;if(!B){const e=new Float32Array(b);for(let t=0;t<b;t++)e[t]=t;B=i(o,2e7,e)}const w=f.program||a(o,h,"#version 300 es\n  precision highp float;\n  void main() {\n  }\n  ",(e=>{o.transformFeedbackVaryings(e,["oNode","oResult","oCoord","oNormal"],o.SEPARATE_ATTRIBS)})),k=8e7,F=f.nodeBuffer||i(o,k,[1,0,0,0]),_=f.resultBuffer||i(o,k,[1,0,0,0]),D=f.coordBuffer||i(o,k,[...vecToArray(v),99]),S=f.normalBuffer||i(o,k,[0,0,0,0]),M=f.nodeOutBufferData||new Float32Array(2e7),y=f.coordOutBufferData||new Float32Array(2e7),U=f.tf||o.createTransformFeedback(),C=f.treeTex||e(o,E,2048,2048),P=f.vao||function(e,t,o,n){const r=e.getAttribLocation(t,n),a=e.createVertexArray();return e.bindVertexArray(a),e.bindBuffer(e.ARRAY_BUFFER,o),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,1,e.FLOAT,!1,0,0),a}(o,w,B,"iNodeIndex");await u(o);const I=f.strokesTex||e(o,n,2048,16);for(f.strokesTex&&t(o,n,I,28*n[0]/4),o.bindBuffer(o.ARRAY_BUFFER,null),await u(o),o.enable(o.RASTERIZER_DISCARD),o.useProgram(w),o.bindVertexArray(P),g=0;g<=d;g+=1){const e=8*x;s(o,w,[["uDepth","1i",g],["uBoundsSize","3fv",vecToArray(p)],["uMaxDepth","1i",d],["uDoubleMaxDepth","1i",m?1:0],["iTime","1i",0],["uTreeTex","1i",0],["uStrokesTex","1i",1]]),t(o,E,C,e),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,C),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,I),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,U);const n=4*A*4,r=4*e*4;o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,F),o.bindBufferRange(o.TRANSFORM_FEEDBACK_BUFFER,1,_,n,r),o.bindBufferRange(o.TRANSFORM_FEEDBACK_BUFFER,2,D,n,r),o.bindBufferRange(o.TRANSFORM_FEEDBACK_BUFFER,3,S,n,r),o.beginTransformFeedback(o.POINTS),o.drawArrays(o.POINTS,0,e),o.endTransformFeedback(),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null),await u(o);let a=A,i=0;const l=c(o,F,M,0,4*e),f=c(o,D,y,n,4*e);for(let t=0;t<e;t++){const e=l[4*t+0],o=[f[4*t+0],f[4*t+1],f[4*t+2]];T[4*a+0]=e>.1?R:e<-.1?-1:0,T[4*a+1]=99,T[4*a+2]=99,T[4*a+3]=99,a+=1,e>.1&&(R+=8,g<d&&(E[4*i+0]=o[0],E[4*i+1]=o[1],E[4*i+2]=o[2],E[4*i+3]=1,i+=1))}A=a,x=i}return o.useProgram(null),o.bindVertexArray(null),o.disable(o.RASTERIZER_DISCARD),Object.assign(f,{outNodes:T,inNodes:E,program:w,tf:U,strokesTex:I,treeTex:C,nodeOutBufferData:M,coordOutBufferData:y,nodeBuffer:F,resultBuffer:_,coordBuffer:D,normalBuffer:S,vao:P,nodeIndexBuffer:B}),{inNodeCount:x,nodeBuffer:F,resultBuffer:_,normalBuffer:S,coordBuffer:D,outNodes:T}}(C,y,l.min,l.max,r,{}),{main:I,setCamera:X,stop:z}=V(C,U,1,m,P,y,l.min,l.max,n,d,S,g,x);return I(),{setCamera:X,stop:z,canvas:U,gl:C}}const j=e=>{let t=q.location.search.substring(1).split("&");for(let o=0;o<t.length;o++){let n=t[o].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}};let q=window,J=null,Q=null,ee=null,te=!1,oe=!1,ne=!1,re="notdefined";const ae=async()=>{te=!0,Q&&(se(),await ie(),J=Q,Q=null,await ie());const{camera:e,voxelSize:t,hash:o,modelDepth:n}=J,r={min:vec(-3.51,-1.1,-3.51),max:vec(3.51,8,3.51)};ee=await W(o,e,t,r,ce,n),te=!1};window.renderSelected=ae;const se=()=>{ee.stop();let e=document.querySelectorAll("canvas");e.forEach((e=>e.remove())),e=null,ee=null};async function ie(){return new Promise((e=>setTimeout(e,0)))}function ce(e){if(Q&&!te)ae();else if(oe){oe=!1;(e=>{const t={name:"v-image",image:e};parent.postMessage(t,"*")})({name:`${`image-${J.hash.replaceAll(":the:","_").replaceAll(":","_")}`}-c${J.camera}.png`,download:ne,downloadNumber:re,data:e.canvas.toDataURL()})}}const ue=e=>{const t=(0,H.gn)(q.repo.models),{allSel:o}=(0,H.u9)(e,t);return(0,H.Mm)(o)};function le(e){const t={...J,...Q||{},...e};t.camera===J.camera&&t.voxelSize===J.voxelSize&&t.hash===J.hash&&t.models===J.models||(Q=t)}q.addEventListener("message",(async e=>{switch(e.data.name){case"e-models":le({models:e.data.models});break;case"e-image":re="notdefined",ne=!1,oe=!0;break;case"e-down":re=e.data.number,ne=!0,oe=!0;break;case"e-seed":q.seed=e.data.seed,le({hash:ue(e.data.seed)});break;case"e-data":{const e=(0,H.gn)(q.repo.models),t={name:"v-data",models:q.models,seed:q.seed,repoIndex:(0,H.gn)(q.repo.models),sel:(0,H.u9)(q.seed,e),camera:J.camera,voxelSize:J.voxelSize};parent.postMessage(t,"*");break}case"e-sel":{q.seed=e.data.seed;const t=[];for(const o in e.data.selected)t.push(`${o}:the:${e.data.selected[o]}`);for(const o in e.data.themeFor)t.push(`theme:${o}:${e.data.themeFor[o]}`);t.push(`sky:${e.data.sky}`),le({hash:t.join("-")});break}case"e-loc":J.camera=7,ee?.setCamera(J.camera),window.locX=e.data.locX,window.locY=e.data.locY,window.locZ=e.data.locZ;break;case"e-cam":J.camera=e.data.camera,ee?.setCamera(J.camera);break;case"e-voxel":le({voxelSize:e.data.voxelSize})}}));const de=j("seed")||q.seed;J={camera:parseInt(j("cam"))||7,voxelSize:parseInt(j("vox"))||6,hash:ue(de),models:q.models,modelDepth:parseInt(j("mod"))||10};window.clickToShow=()=>{var e;(e=document.getElementById("preview")).parentNode.removeChild(e),window.renderSelected()}})()})();</script>